{"ast":null,"code":"var _jsxFileName = \"F:\\\\clg project\\\\book buddies latest\\\\client\\\\src\\\\pages\\\\Auth.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Auth = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"The Book Exchange Store\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth\",\n      children: [/*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n};\n_c = Auth;\nconst Register = () => {\n  _s();\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  function handleForgotPassword() {}\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = {\n      username,\n      password\n    };\n    axios.post(\"http://localhost:3001/auth/register\", formData).then(response => {\n      alert(\"Registration Completed Now Login\");\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    username: username,\n    setUserName: setUserName,\n    password: password,\n    setPassword: setPassword,\n    label: \"Register\",\n    handleSubmit: handleSubmit,\n    forgotPassword: false,\n    handleForgotPassword: handleForgotPassword\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"mDofyeUwpW7DCqzRlXtw6aPy/HU=\");\n_c2 = Register;\nconst Login = () => {\n  _s2();\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const [cookies, setCookies] = useCookies([\"access_token\"]);\n  const navigate = useNavigate();\n  const handleForgotPassword = () => {\n    navigate(\"/forgot\");\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:3001/auth/login\", {\n        username,\n        password\n      });\n      if (typeof response.data.token === \"undefined\") {\n        alert(\"Incorrect Id or Password\");\n      } else {\n        setCookies(\"access_token\", response.data.token);\n        window.localStorage.setItem(\"userId\", response.data.userId);\n        navigate(\"/\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    username: username,\n    setUserName: setUserName,\n    password: password,\n    setPassword: setPassword,\n    label: \"Login\",\n    handleSubmit: handleSubmit,\n    forgotPassword: true,\n    handleForgotPassword: handleForgotPassword\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s2(Login, \"AQhOxkfrE14yO9Ozf57c7m/58O0=\", false, function () {\n  return [useCookies, useNavigate];\n});\n_c3 = Login;\nconst Form = _ref => {\n  let {\n    username,\n    setUserName,\n    password,\n    setPassword,\n    label,\n    handleSubmit,\n    forgotPassword,\n    handleForgotPassword\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          value: username,\n          onChange: e => setUserName(e.target.value),\n          placeholder: \"Enter Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Enter Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_c4 = Form;\nexport default Auth;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Auth\");\n$RefreshReg$(_c2, \"Register\");\n$RefreshReg$(_c3, \"Login\");\n$RefreshReg$(_c4, \"Form\");","map":{"version":3,"names":["React","useState","axios","useCookies","useNavigate","jsxDEV","_jsxDEV","Auth","children","fileName","_jsxFileName","lineNumber","columnNumber","className","Login","Register","_c","_s","username","setUserName","password","setPassword","handleForgotPassword","handleSubmit","e","preventDefault","formData","post","then","response","alert","catch","error","console","log","Form","label","forgotPassword","_c2","_s2","cookies","setCookies","navigate","data","token","window","localStorage","setItem","userId","err","_c3","_ref","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","_c4","$RefreshReg$"],"sources":["F:/clg project/book buddies latest/client/src/pages/Auth.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Auth = () => {\r\n  return (\r\n    <div>\r\n      <h1>The Book Exchange Store</h1>\r\n\r\n      <div className=\"auth\">\r\n        <Login />\r\n        <Register />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Register = () => {\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  function handleForgotPassword() {}\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = {\r\n      username,\r\n      password,\r\n    };\r\n\r\n    axios\r\n      .post(\"http://localhost:3001/auth/register\", formData)\r\n      .then((response) => {\r\n        alert(\"Registration Completed Now Login\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      username={username}\r\n      setUserName={setUserName}\r\n      password={password}\r\n      setPassword={setPassword}\r\n      label=\"Register\"\r\n      handleSubmit={handleSubmit}\r\n      forgotPassword={false}\r\n      handleForgotPassword={handleForgotPassword}\r\n    />\r\n  );\r\n};\r\n\r\nconst Login = () => {\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [cookies, setCookies] = useCookies([\"access_token\"]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleForgotPassword = () => {\r\n    navigate(\"/forgot\");\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await axios.post(\"http://localhost:3001/auth/login\", {\r\n        username,\r\n        password,\r\n      });\r\n\r\n      if (typeof response.data.token === \"undefined\") {\r\n        alert(\"Incorrect Id or Password\");\r\n      } else {\r\n        setCookies(\"access_token\", response.data.token);\r\n        window.localStorage.setItem(\"userId\", response.data.userId);\r\n        navigate(\"/\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      username={username}\r\n      setUserName={setUserName}\r\n      password={password}\r\n      setPassword={setPassword}\r\n      label=\"Login\"\r\n      handleSubmit={handleSubmit}\r\n      forgotPassword={true}\r\n      handleForgotPassword={handleForgotPassword}\r\n    />\r\n  );\r\n};\r\n\r\nconst Form = ({\r\n  username,\r\n  setUserName,\r\n  password,\r\n  setPassword,\r\n  label,\r\n  handleSubmit,\r\n  forgotPassword,\r\n  handleForgotPassword,\r\n}) => {\r\n  return (\r\n    <div className=\"auth-container\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h2>{label}</h2>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Username:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUserName(e.target.value)}\r\n            placeholder=\"Enter Username\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Enter Password\"\r\n          />\r\n        </div>\r\n        {/* {forgotPassword ? (\r\n          <>\r\n            <button className=\"reset-password\" onClick={handleForgotPassword}>Reset Password</button>\r\n            \r\n          </>\r\n        ) : null} */}\r\n\r\n        <button type=\"submit\">{label}</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}